<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>옵셔널체이닝</title>
</head>
<body>
    <h2>옵셔널체이닝</h2>
    <script>
        // 논리 연산자(&&, ||)
        const obj1 = {name:'김사과'}
        const obj2 = {name:'반하나', lover:'이메론'}
        const bool1 = false;

        if(obj1 || obj2){
            console.log('둘 다 또는 둘 중에 하나가 true');
        }

        let result = obj1 && obj2;
        console.log(result);

        result = obj1 || obj2;
        console.log(result);

        function changeLover(obj) {
            if(!obj.lover){
                throw new Error('애인이 없어!');
            }
            obj.lover = '애인이 바뀜';
        }

        function makeNewLover(obj) {
            if(obj.lover){
                throw new Error('애인이 있어!');
            }
            obj.lover = '새로운 애인이 생김';
        }
        console.log('--------------');
        obj1.lover && changeLover(obj1);
        console.log(obj1);

        console.log('--------------');
        obj2.lover && changeLover(obj2);
        console.log(obj2);
        
        // null 또는 undefined인 경우를 확인할 때
        let item = { price: 1000 };
        const price = item && item.price;
        console.log(price);
        console.log('--------------');

        // 기본값을 설정
        // 자바스크립트의 default parameter: undefined
        function print(message){
            const text = message || 'hello';
            console.log(text); 
        }

        print('안녕');
        print();
        print(undefined);
        print(null);
        print('');
        console.log('--------------');
        
        let item2 = { price: 1000 };
        const price2 = item2?.price;    // item && item.price;
        console.log(price2);
        
        let banana = { name:'반하나', lover:{name:'오렌지'}};
        
        function printLoverName(obj) {
            const loverName = obj?.lover?.name;
            console.log(loverName);
        }
        printLoverName(banana);
        console.log('--------------');

        // let num = null;
        let num = 0;
        console.log(num || '-1');
        console.log(num ?? '-1');
        console.log(banana.lover?.name ?? '이메론');
    </script>
</body>
</html>